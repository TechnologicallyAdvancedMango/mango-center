<!DOCTYPE html>
<html>
    <head>
        <style>
            #game {
                position: relative;
                height: 200px;
                width: 100%;
                background-color: #f0f0f0;
            }
            #player, .obstacle {
                position: absolute;
                bottom: 0;
                background-color: #ff0000;
                width: 20px;
                height: 20px;
            }
            .obstacle {
                right: -20px;
                animation: obstacle 2s infinite linear;
            }
            .animate {
                animation: jump 0.5s ease;
            }
            @keyframes jump {
                0% { top: 150px; }
                50% { top: 100px; }
                100% { top: 150px; }
            }
            @keyframes obstacle {
                0% { right: -20px; }
                100% { right: 100%; }
            }
        </style>
    </head>
    <body onclick="jump()">
        <div id="game">
            <div id="player"></div>
        </div>

        <script>
            var player = document.getElementById('player');
            var game = document.getElementById('game');

            function jump() {
                if (player.classList != 'animate') {
                    player.classList.add('animate');
                }
                setTimeout(function () {
                    player.classList.remove('animate');
                }, 500);
            }

            var checkDead = setInterval(function () {
                var playerTop = parseInt(window.getComputedStyle(player).getPropertyValue('top'));
                var obstacleLeft = parseInt(window.getComputedStyle(obstacle).getPropertyValue('left'));
                var obstacleHeight = parseInt(window.getComputedStyle(obstacle).getPropertyValue('height'));

                if (obstacleLeft < 20 && obstacleLeft > 0 && playerTop >= (150 - obstacleHeight)) {
                    obstacle.style.animation = 'none';
                    obstacle.style.display = 'none';
                    alert('Game Over. You lost.');
                    location.reload(); // Reload the page to restart the game
                }
            }, 10);

            function createObstacle() {
                var obstacle = document.createElement('div');
                obstacle.classList.add('obstacle');
                game.appendChild(obstacle);
                var randomHeight = Math.random() * 60 + 10; // Random height between 10 and 70
                obstacle.style.height = randomHeight + 'px';
                obstacle.style.animationDuration = Math.random() * 1 + 1 + 's'; // Random speed between 1 and 2 seconds
            }

            setInterval(createObstacle, 3000); // Create a new obstacle every 3 seconds
        </script>
    </body>
</html>
